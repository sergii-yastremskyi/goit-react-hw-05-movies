"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[362],{362:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n=s(885),r=s(791),a=s(494),c=s(731),i=s(450),u="searchbar_searchForm__jIF+P",o=s(184);function h(e){var t=e.submitHandler,s=(0,c.lr)(),a=(0,n.Z)(s,2),i=a[0],h=a[1],l=(0,r.useState)(""),m=(0,n.Z)(l,2),f=m[0],v=m[1];(0,r.useEffect)((function(){var e=i.get("query");e&&(v(e),t(e))}),[i]);return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{className:u,onSubmit:function(e){e.preventDefault(),h(""!==f?{query:f}:{}),t(f)},children:[(0,o.jsx)("input",{type:"text",name:"search",value:f,onChange:function(e){var t=e.target.value;e.preventDefault(),v(t)},id:"search"}),(0,o.jsx)("button",{type:"submit",children:"Search"})]})})}var l="MoviesThumbs_posterImage__WsZ-1",m="MoviesThumbs_thumbsList__xYLfr",f="MoviesThumbs_thumbListItem__DcABW",v="MoviesThumbs_thumbsContainer__AfCI7",_=s(739);function d(e){var t=e.moviesSearch,s=(0,_.TH)();return(0,r.useEffect)((function(){console.log("thumbs",t)})),(0,o.jsx)("div",{className:v,children:t.length>0&&(0,o.jsx)("ul",{className:m,children:t.map((function(e){var t=e.poster_path,n=e.title,r=e.id;return(0,o.jsx)("li",{className:f,children:(0,o.jsxs)(c.rU,{state:{from:s},to:"".concat(r),children:[console.log(n,s),(0,o.jsx)("img",{className:l,src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:n}),(0,o.jsx)("h2",{children:n})]})},r)}))})})}function b(){var e=(0,r.useContext)(a.f),t=e.state;e.setState;console.log("Movies",t);var s=(0,r.useState)([]),c=(0,n.Z)(s,2),u=c[0],l=c[1];return(0,o.jsxs)("div",{children:[(0,o.jsx)(h,{submitHandler:function(e){e.trim(" ").length>0&&fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(i.q,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){l(e.results||[])}))}}),(0,o.jsx)(d,{moviesSearch:u})]})}}}]);
//# sourceMappingURL=362.3db6d86f.chunk.js.map