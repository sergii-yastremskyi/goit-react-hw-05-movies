"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[362],{362:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var a=s(885),n=s(791),r=s(943),c=s(731),i=s(450),u="searchbar_searchForm__jIF+P",o=s(184);function h(e){var t=e.submitHandler,s=(0,c.lr)(),r=(0,a.Z)(s,2),i=r[0],h=r[1],l=(0,n.useState)(""),m=(0,a.Z)(l,2),f=m[0],_=m[1];(0,n.useEffect)((function(){var e=i.get("query");e&&(_(e),t(e))}),[i]);return(0,o.jsx)("div",{children:(0,o.jsxs)("form",{className:u,onSubmit:function(e){e.preventDefault(),h(""!==f?{query:f}:{}),t(f)},children:[(0,o.jsx)("input",{type:"text",name:"search",value:f,onChange:function(e){var t=e.target.value;e.preventDefault(),_(t)},id:"search"}),(0,o.jsx)("button",{type:"submit",children:"Search"})]})})}var l="MoviesThumbs_posterImage__WsZ-1",m="MoviesThumbs_thumbsList__xYLfr",f="MoviesThumbs_thumbListItem__DcABW",_="MoviesThumbs_thumbsContainer__AfCI7",v="MoviesThumbs_movieTitle__+fXwz",d=s(739);function p(e){var t=e.moviesSearch,s=(0,d.TH)();return(0,n.useEffect)((function(){})),(0,o.jsx)("div",{className:_,children:t.length>0&&(0,o.jsx)("ul",{className:m,children:t.map((function(e){var t=e.poster_path,a=e.title,n=e.id;return(0,o.jsx)("li",{className:f,children:(0,o.jsxs)(c.rU,{state:{from:s},to:"".concat(n),children:[t?(0,o.jsx)("img",{className:l,src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:a}):(0,o.jsx)("img",{className:l,src:"https://via.placeholder.com/200x300?text=".concat(a),alt:a}),(0,o.jsx)("h2",{className:v,children:a})]})},n)}))})})}function x(){var e=(0,n.useContext)(r.f),t=(e.state,e.setState,(0,n.useState)([])),s=(0,a.Z)(t,2),c=s[0],u=s[1];return(0,o.jsxs)("div",{children:[(0,o.jsx)(h,{submitHandler:function(e){e.trim(" ").length>0&&fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(i.q,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){u(e.results||[])}))}}),(0,o.jsx)(p,{moviesSearch:c})]})}}}]);
//# sourceMappingURL=362.63516d87.chunk.js.map