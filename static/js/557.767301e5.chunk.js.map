{"version":3,"file":"static/js/557.767301e5.chunk.js","mappings":"+PACA,EAAyB,6BAAzB,EAA2I,qCAA3I,EAA6L,iCAA7L,EAA2O,iCAA3O,EAAiS,yCAAjS,EAAqV,+BAArV,EAAsY,sCAAtY,EAAsc,8CAAtc,EAA8f,8B,kBCc/e,SAASA,IAAgB,IAAD,IACrC,GAAoCC,EAAAA,EAAAA,UAAS,CAAC,GAA9C,eAAOC,EAAP,KAAmBC,EAAnB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAY,oBAAGJ,EAASK,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAQvCC,EAAW,yCAAG,6FACdT,EADc,gCAEEU,MAAM,sCAAD,OACiBV,EADjB,oBACoCW,EAAAA,EADpC,oBAErBC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,IAJM,OAEVD,EAFU,OAMhBd,EAAcc,GANE,2CAAH,sDAUjBE,EAAAA,EAAAA,YAAU,WACRN,GACD,GAAE,IAEH,MAMIX,EALFkB,YAAAA,OADF,MACgB,KADhB,EAEEC,EAIEnB,EAJFmB,MACAC,EAGEpB,EAHFoB,WACAC,EAEErB,EAFFqB,SAJF,EAMIrB,EADFsB,OAAAA,OALF,MAKW,KALX,EAQA,OACE,4BACE,gBAAKC,UAAWC,EAAhB,UACE,oBAAQC,QAhCC,WAAO,IAAD,EACnB,UAAIrB,EAASK,aAAb,OAAI,EAAgBC,KAClBJ,EAASE,GAETF,EAAS,IAEZ,EA0BK,WACE,SAAC,MAAD,IADF,iBAIF,iBAAKiB,UAAWC,EAAhB,WACE,yBACGN,GACC,gBACEK,UAAWC,EACXE,IAAG,0CAAqCR,GACxCS,IAAI,MAGN,gBACEJ,UAAWC,EACXE,IAAG,mDAA8CP,GACjDQ,IAAKR,OAKX,iBAAKI,UAAWC,EAAhB,WACE,wBAAKL,KACL,wCAAgBC,MAChB,sCACA,cAAGG,UAAWC,EAAd,SAA6BH,KAC7B,qCACCC,IACC,eAAIC,UAAWC,EAAf,SACGF,EAAOM,KAAI,SAAAC,GAAC,OACX,eAAIN,UAAWC,EAAf,SACGK,EAAEC,MAD+BD,EAAEE,GAD3B,aASrB,iBAAMR,UAAWC,KACjB,iBAAKD,UAAWC,EAAhB,WACE,6CACA,SAAC,KAAD,CAAMQ,GAAG,OAAT,mBACA,SAAC,KAAD,CAAMA,GAAG,UAAT,yBAEF,iBAAMT,UAAWC,KACjB,SAAC,KAAD,MAGL,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/movieDetails.module.css?c148","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"poster\":\"movieDetails_poster__KYuxn\",\"movieDetailsContainer\":\"movieDetails_movieDetailsContainer__sHx9u\",\"movieContainer\":\"movieDetails_movieContainer__dWVho\",\"genresList\":\"movieDetails_genresList__enlYD\",\"genresItem\":\"movieDetails_genresItem__EL0dc\",\"movieInfoContainer\":\"movieDetails_movieInfoContainer__FqCaJ\",\"overview\":\"movieDetails_overview__g+DFT\",\"buttonContainer\":\"movieDetails_buttonContainer__E3P2r\",\"additionalInfoCOntainer\":\"movieDetails_additionalInfoCOntainer__GYO2K\",\"breaker\":\"movieDetails_breaker__4sOqu\"};","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  Outlet,\n  NavLink,\n  Link,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { QueryContext } from '../../App';\nimport { FiChevronLeft } from 'react-icons/fi';\nimport css from './movieDetails.module.css';\nimport { apiKey } from '../Home/Home';\nimport { nanoid } from 'nanoid';\n\nexport default function MovieDetails() {\n  const [movieState, setMovieState] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const backLinkHref = location.state?.from ?? '/';\n  const goBack = () => {\n    if (location.state?.from) {\n      navigate(backLinkHref);\n    } else {\n      navigate('/');\n    }\n  };\n  const handleFetch = async () => {\n    if (movieId) {\n      const res = await fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=en-US`\n      ).then(res => res.json());\n\n      setMovieState(res);\n    }\n  };\n\n  useEffect(() => {\n    handleFetch();\n  }, []);\n\n  const {\n    poster_path = null,\n    title,\n    popularity,\n    overview,\n    genres = null,\n  } = movieState;\n\n  return (\n    <div>\n      <div className={css.buttonContainer}>\n        <button onClick={goBack}>\n          <FiChevronLeft /> Go Back\n        </button>\n      </div>\n      <div className={css.movieContainer}>\n        <div>\n          {poster_path ? (\n            <img\n              className={css.poster}\n              src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n              alt=\"\"\n            />\n          ) : (\n            <img\n              className={css.poster}\n              src={`https://via.placeholder.com/200x300?text=${title}`}\n              alt={title}\n            />\n          )}\n        </div>\n\n        <div className={css.movieInfoContainer}>\n          <h2>{title}</h2>\n          <p>Popularity: {popularity}</p>\n          <h3>Overview</h3>\n          <p className={css.overview}>{overview}</p>\n          <h3>Genres: </h3>\n          {genres && (\n            <ul className={css.genresList}>\n              {genres.map(g => (\n                <li className={css.genresItem} key={g.id}>\n                  {g.name}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n      <span className={css.breaker}></span>\n      <div className={css.additionalInfoCOntainer}>\n        <h3>Additional info</h3>\n        <Link to=\"cast\">Cast</Link>\n        <Link to=\"reviews\">Reviews</Link>\n      </div>\n      <span className={css.breaker}></span>\n      <Outlet />\n    </div>\n  );\n}\n"],"names":["MovieDetails","useState","movieState","setMovieState","movieId","useParams","location","useLocation","navigate","useNavigate","backLinkHref","state","from","handleFetch","fetch","apiKey","then","res","json","useEffect","poster_path","title","popularity","overview","genres","className","css","onClick","src","alt","map","g","name","id","to"],"sourceRoot":""}