"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[362],{362:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var n=s(885),r=s(791),a=s(494),i=s(731),u=s(450),c=s(184);function o(e){var t=e.submitHandler,s=(0,i.lr)(),a=(0,n.Z)(s,2),u=a[0],o=a[1],h=(0,r.useState)(""),l=(0,n.Z)(h,2),m=l[0],f=l[1];(0,r.useEffect)((function(){var e=u.get("query");e&&(f(e),t(e))}),[u]);return(0,c.jsx)("div",{children:(0,c.jsx)("form",{onSubmit:function(e){e.preventDefault(),o(""!==m?{query:m}:{}),t(m)},children:(0,c.jsx)("input",{type:"text",name:"search",value:m,onChange:function(e){var t=e.target.value;e.preventDefault(),f(t)},id:"search"})})})}var h="MoviesThumbs_posterImage__WsZ-1",l="MoviesThumbs_thumbsList__xYLfr",m="MoviesThumbs_thumbListItem__DcABW",f="MoviesThumbs_thumbsContainer__AfCI7",v=s(739);function _(e){var t=e.moviesSearch,s=(0,v.TH)();return(0,r.useEffect)((function(){console.log("thumbs",t)})),(0,c.jsxs)("div",{className:f,children:["Movie Thumbs",t.length>0?(0,c.jsx)("ul",{className:l,children:t.map((function(e){var t=e.poster_path,n=e.title,r=e.id;return(0,c.jsx)("li",{className:m,children:(0,c.jsxs)(i.rU,{state:{from:s},to:"".concat(r),children:[console.log(n,s),(0,c.jsx)("img",{className:h,src:"https://image.tmdb.org/t/p/w500/".concat(t),alt:n}),(0,c.jsx)("h2",{children:n})]})},r)}))}):(0,c.jsx)("p",{children:"No such movie"})]})}function d(){var e=(0,r.useContext)(a.f),t=e.state;e.setState;console.log("Movies",t);var s=(0,r.useState)([]),i=(0,n.Z)(s,2),h=i[0],l=i[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)(o,{submitHandler:function(e){e.trim(" ").length>0&&fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(u.q,"&language=en-US&query=").concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){l(e.results||[])}))}}),(0,c.jsx)(_,{moviesSearch:h})]})}}}]);
//# sourceMappingURL=362.07439d5c.chunk.js.map